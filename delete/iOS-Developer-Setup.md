1. In a browser, visit developer.apple.com and login with Apple ID (you will need an Apple ID associated with your `@esri.com` email address - create one at https://appleid.apple.com):
    - Go to "Certificates, Identifiers & Profiles" section
    - Check if your account has an iOS Development certificate
      - If so, continue to step 3

2. In the XCode IDE
    - Open up menu item Xcode -> Preferencesâ€¦ -> Accounts
    - Enter your Apple ID account info.
    - You should see the `ESRI Enterprise` team. If not, see Common Problems.
    - Highlight the `Esri Enterprise` Team and click on View Details...
    - Click the + sign under Signing Identities and add `iOS Development`
    - This creates a certificate in the Apple developer portal which you should be able to see [here](https://developer.apple.com/account/resources/certificates/list). It also downloads the certificate and its private key to your Keychain, where the Xcode tooling can access it to sign builds.
      - Contact Nick Furness if this doesn't work (you may need additional permission to access and create certificates).

3. After you have a valid certificate, get Nick Furness to add it to the `iOSDevTeamDev` profile. You'll then want to download and install the updated provisioning profile on your computer.
    - If on https://developer.apple.com, log in with your account and go to the "Certificates, Identifiers & Profiles" section.  Click on the ["Provisioning Profiles" section](https://developer.apple.com/account/resources/profiles/list). Find the `iOSDevTeamDev` profile and download it.
    - Once you have your `.mobileprovision` file, double-click it to install it.
      - Nothing will appear to happen, but as long as you double-click it, it'll get installed.
      - For the terminally curious: it will be installed in your home directory under `~/Library/MobileDevice/Provisioning Profiles`. It'll be given a GUID based name, but sort by date modified and you can preview the file (select the file and press SPACE) to see its contents and double-check.

4. Your account should now contain a valid signing identity for the `iOSDevTeamDev` profile which will allow you to sign apps with bundle IDs beginning with `com.esri.`.
    - To confirm, open an Xcode project that has a bundle ID beginning `com.esri.`.
    - Navigate to the Project, select the target, and go to the `Signing & Capabilities` tab at the top.
      <img width="1030" alt="2022-04-07_18-50-34" src="https://devtopia.esri.com/storage/user/1004/files/242ac228-b6ea-4c63-b551-a8bcc8ee49ff">
    - Deselect the `Automatically manage signing` checkbox.
    - You should see `iOSDevTeamDev` listed in the `Provisioning Profile` dropdown.
      <img width="546" alt="2022-04-07_18-50-34 copy" src="https://devtopia.esri.com/storage/user/1004/files/88722a4f-a403-42e4-ab60-981ddeab0fdd">
    - If so, you are good to go. Otherwise, see Common Errors.

#### Common Errors:

If you cannot see the `ESRI Enterprise` team on the Xcode -> Preferences -> Accounts, try:
  - Try to get Xcode to download by create a simple Xcode project
    - Go to File -> New -> Project... and create a simple empty application
    - In the Identity section under General, select "Esri Enterprise" team and see if Xcode can download the
      info that you need.

I have seen problems where starting up a new project and building still gives a signing error upon building that project from Qt Creator.  If this is the case, please follow these instructions:
- When building a project for iOS in Qt Creator, there is an Xcode project (.xcodeproj) that is generated by qmake.  Find this project file in the build output folder and double click to open it up in Xcode.
- Under the General tab for your Target project, find the Identity section.  There should be a drop down called "Team".  Sometimes this drop down box is set to "None" by default.  You must change this drop down to "ESRI Enterprise (email@esri.com)".
- Now go Xcode and go back in to Qt Creator and build again.

#### Notes:
A provisioning profile tells Xcode that a given bundle ID can be signed with an available certificate. The steps above ensure that your developer certificate (created and downloaded to your keychain) can be used to sign apps with bundle IDs that start with `com.esri.*`.

There is a secondary aspect to the provisioning profile which is determining which registered devices are allowed to execute the binary you build and sign with your developer signing certificate. If you have a new device, or if the device hasn't been used by this process before, then Nick Furness will also need to list that in the provisioning profile. Otherwise, you will be able to build the app, but not run it on your device.

To see if your device is registered:
  - Open Xcode and go to the Window -> Devices and Simulators menu.
  - Connect your device to your computer.
  - Find the device in the Devices tab of the Devices and Simulators dialog.
  - Locate the `Identifier`. It should looks something like `00008020-000938842221002E` or `0cf960aa9f002fb0df7f60df67c2c484d90c3c3e`.
  - If you can find the identifier at https://developer.apple.com/account/resources/devices/list, we just need to add it to the provisioning profile.
  - If you cannot find the identifier there, contact Nick Furness to register the device.